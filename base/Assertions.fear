package base;

Assert:Sealed{
  !(assertion: Bool): Void -> this!(assertion,{``}, { Void });
  !(assertion: Bool, msg: read F[Str]): Void -> this!(assertion, msg, { Void });
  /*![R:*](assertion: Bool, cont: mut MF[R]): R -> assertion ? {
    .then -> cont#;//No because of missing overloading
    .else -> this._fail;
    };*/
  ![R:*](assertion: Bool, msg: read F[Str], cont: mut MF[R]): R -> assertion ? {
      .then -> cont#;
      .else -> this._fail(msg#);
      };
  ._fail[R:*]: R -> Error.nonDeterministic`Assertion failure.`;
  ._fail[R:*](msg: Str): R -> Error.nonDeterministic(`Assertion failure.`|msg)
  }